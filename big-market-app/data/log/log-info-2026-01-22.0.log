26-01-22.20:23:25.685 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_462 on User1 with PID 26320 (started by hafutpurs in E:\2JavaCode\BigMarket\big-market\big-market-app)
26-01-22.20:23:25.686 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
26-01-22.20:23:27.085 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
26-01-22.20:23:27.089 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
26-01-22.20:23:27.122 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
26-01-22.20:23:28.797 [main            ] INFO  Version                - Redisson 3.23.4
26-01-22.20:23:29.226 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 192.168.21.130/192.168.21.130:16379
26-01-22.20:23:29.241 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 192.168.21.130/192.168.21.130:16379
26-01-22.20:23:31.399 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
26-01-22.20:23:31.473 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 6.27 seconds (JVM running for 9.265)
26-01-22.20:23:31.726 [main            ] INFO  StrategyArmoryDispatch - 开始装配抽奖策略：strategyId = 100006
26-01-22.20:23:31.813 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
26-01-22.20:23:31.821 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认兜底节点处理完成 userId: xiaofuge, strategyId: 100006, awardId: 102
26-01-22.20:23:31.822 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
26-01-22.20:23:31.847 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
26-01-22.20:23:32.249 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
26-01-22.20:23:32.435 [main            ] INFO  RuleLockLogicTreeNode  - 规则树-规则锁节点执行校验: userId=xiaofuge, strategyId=100006, awardId=102, ruleValue=1
26-01-22.20:23:32.435 [main            ] INFO  RuleLockLogicTreeNode  - 规则树-规则锁节点校验通过：用户抽奖次数达标，解锁奖品，userId=xiaofuge, awardId=102, 累计次数=10, 阈值=1
26-01-22.20:23:32.436 [main            ] INFO  RuleStockLogicTreeNode - 规则树-库存校验节点开始执行: userId:xiaofuge, strategyId:100006, awardId:102
26-01-22.20:23:32.440 [main            ] INFO  RuleStockLogicTreeNode - 规则树-库存校验成功: userId:xiaofuge, strategyId:100006, awardId:102
26-01-22.20:23:32.479 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则树-幸运奖节点执行开始: userId=xiaofuge, strategyId=100006, currentAwardId=102, ruleValue=101:1,100
26-01-22.20:23:32.480 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则树-幸运奖节点执行完成：已解析幸运奖品信息，userId=xiaofuge, strategyId=100006, luckAwardId=101, luckAwardRuleValue=1,100
26-01-22.20:23:32.480 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 xiaofuge 100006 101 1,100
26-01-22.20:23:32.658 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100006,"userId":"xiaofuge"}
26-01-22.20:23:32.661 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardConfig":"1,100","awardId":101}
26-01-22.20:23:32.666 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认兜底节点处理完成 userId: xiaofuge, strategyId: 100006, awardId: 102
26-01-22.20:23:32.666 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
26-01-22.20:23:32.669 [main            ] INFO  RuleLockLogicTreeNode  - 规则树-规则锁节点执行校验: userId=xiaofuge, strategyId=100006, awardId=102, ruleValue=1
26-01-22.20:23:32.669 [main            ] INFO  RuleLockLogicTreeNode  - 规则树-规则锁节点校验通过：用户抽奖次数达标，解锁奖品，userId=xiaofuge, awardId=102, 累计次数=10, 阈值=1
26-01-22.20:23:32.669 [main            ] INFO  RuleStockLogicTreeNode - 规则树-库存校验节点开始执行: userId:xiaofuge, strategyId:100006, awardId:102
26-01-22.20:23:32.671 [main            ] INFO  RuleStockLogicTreeNode - 规则树-库存校验成功: userId:xiaofuge, strategyId:100006, awardId:102
26-01-22.20:23:32.673 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则树-幸运奖节点执行开始: userId=xiaofuge, strategyId=100006, currentAwardId=102, ruleValue=101:1,100
26-01-22.20:23:32.673 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则树-幸运奖节点执行完成：已解析幸运奖品信息，userId=xiaofuge, strategyId=100006, luckAwardId=101, luckAwardRuleValue=1,100
26-01-22.20:23:32.673 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 xiaofuge 100006 101 1,100
26-01-22.20:23:32.673 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100006,"userId":"xiaofuge"}
26-01-22.20:23:32.673 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardConfig":"1,100","awardId":101}
26-01-22.20:23:32.676 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认兜底节点处理完成 userId: xiaofuge, strategyId: 100006, awardId: 102
26-01-22.20:23:32.676 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 102 rule_default
26-01-22.20:23:32.679 [main            ] INFO  RuleLockLogicTreeNode  - 规则树-规则锁节点执行校验: userId=xiaofuge, strategyId=100006, awardId=102, ruleValue=1
26-01-22.20:23:32.679 [main            ] INFO  RuleLockLogicTreeNode  - 规则树-规则锁节点校验通过：用户抽奖次数达标，解锁奖品，userId=xiaofuge, awardId=102, 累计次数=10, 阈值=1
26-01-22.20:23:32.679 [main            ] INFO  RuleStockLogicTreeNode - 规则树-库存校验节点开始执行: userId:xiaofuge, strategyId:100006, awardId:102
26-01-22.20:23:32.681 [main            ] INFO  RuleStockLogicTreeNode - 规则树-库存校验成功: userId:xiaofuge, strategyId:100006, awardId:102
26-01-22.20:23:32.683 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则树-幸运奖节点执行开始: userId=xiaofuge, strategyId=100006, currentAwardId=102, ruleValue=101:1,100
26-01-22.20:23:32.683 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则树-幸运奖节点执行完成：已解析幸运奖品信息，userId=xiaofuge, strategyId=100006, luckAwardId=101, luckAwardRuleValue=1,100
26-01-22.20:23:32.683 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 xiaofuge 100006 101 1,100
26-01-22.20:23:32.683 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100006,"userId":"xiaofuge"}
26-01-22.20:23:32.683 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardConfig":"1,100","awardId":101}
26-01-22.20:23:35.010 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
26-01-22.20:23:35.013 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 strategyId:100006, awardId:102
26-01-22.20:23:40.009 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
26-01-22.20:23:40.011 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 strategyId:100006, awardId:102
26-01-22.20:23:43.567 [SpringApplicationShutdownHook] INFO  HikariDataSource       - Retail_HikariCP - Shutdown initiated...
26-01-22.20:23:43.578 [SpringApplicationShutdownHook] INFO  HikariDataSource       - Retail_HikariCP - Shutdown completed.
